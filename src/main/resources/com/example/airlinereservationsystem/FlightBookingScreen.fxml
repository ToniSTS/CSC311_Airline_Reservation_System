<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.geometry.*?>

<VBox xmlns:fx="http://javafx.com/fxml"
      fx:controller="com.example.airlinereservationsystem.FlightBookingController"
      spacing="10"
      stylesheets="@StyleFlight.css">
    <padding><Insets top="20" right="20" bottom="20" left="20"/></padding>

    <HBox alignment="CENTER_RIGHT" spacing="10">
        <Button fx:id="backToAdminButton" text="Back to Admin Menu" onAction="#handleBackToAdmin"
                style="-fx-background-color: #8A2BE2;" visible="false"/> <!-- Admin back button, hidden by default -->
        <Label fx:id="statusLabel" HBox.hgrow="ALWAYS"/>
        <Button fx:id="adminBypassButton" text="Admin Direct Book" onAction="#handleAdminBypass"
                style="-fx-background-color: #8A2BE2;" visible="false"/> <!-- Admin button, hidden by default -->
        <Button fx:id="viewBookingsButton" text="My Bookings" onAction="#handleViewBookings"/>
        <Button fx:id="signOutButton" text="Sign Out" onAction="#handleSignOut"
                style="-fx-background-color: #B22222;"/>
    </HBox>

    <Label text="Search for Flights"/>

    <GridPane hgap="10" vgap="10">
        <Label text="From (Airport Code):" GridPane.columnIndex="0" GridPane.rowIndex="0" />
        <TextField fx:id="originField" promptText="e.g., JFK" GridPane.columnIndex="1" GridPane.rowIndex="0" />

        <Label text="To (Airport Code):" GridPane.columnIndex="0" GridPane.rowIndex="1" />
        <TextField fx:id="destinationField" promptText="e.g., LAX" GridPane.columnIndex="1" GridPane.rowIndex="1" />

        <Label text="Date:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
        <DatePicker fx:id="datePicker" GridPane.columnIndex="1" GridPane.rowIndex="2" />

        <Button text="Search Flights" onAction="#handleSearch" GridPane.columnIndex="1" GridPane.rowIndex="3" />
    </GridPane>

    <Button fx:id="chatGptButton" text="Ask ChatGPT"
            layoutX="700" layoutY="10" onAction="#handleChatGptRecommendation"/>

    <Label text="Available Flights:"/>
    <ListView fx:id="resultsListView" VBox.vgrow="ALWAYS"/>

    <Label fx:id="recommendationLabel"/>

    <HBox alignment="CENTER_RIGHT" spacing="10">
        <Button text="Book Selected Flight" onAction="#handleBookFlight"/>
    </HBox>
</VBox>